\documentclass[../competing_bandits.tex]{subfiles}
\begin{document}

\subsection{Non-deterministic Choice Models}\label{sec:non_greedy}

Let us consider an extension in which the agents' choice is no longer deterministic. Recall that in the reputation choice variant agents deterministically choose the firm with the higher reputation score, which, as before, we denote as \emph{HardMax} (\HM). Now, we introduce some randomness: each agent selects between the firms uniformly with probability $\eps\in (0,1)$, and takes the firm with the higher reputation score with the remaining probability; as before, we denote this rule as \emph{HardMax with randomness} (\HMR).

One can view \HMR as a version of ``warm start", where a firm receives some customers without competition, but these customers are dispersed throughout the game. The expected duration of this ``dispersed warm start" is $\eps T$. If this quantity is large enough, we expect better algorithms to reach their long-term performance and prevail in competition. We confirm this intuition; we also find that this effect is negligible for smaller (but still relevant) values of $\eps$ or $T$.

\OMIT{In Section \ref{sec:competition} we show that in the permanent duopoly
case exploration can lead to a death spiral which eventually starves
the firm of agents. However, giving one firm a small head start or
enough free agents via the warm start incentivizes it to play \TS
since it could recover the reputation costs it incurred from early
exploration. An interpretation of \HMR~ is that instead of
concentrating the free agents as arriving in the beginning of the game
instead they are dispersed throughout the game.}

\begin{finding}\label{find:non_greedy_choice}
\textit{\TS is weakly dominant under the \HMR~ choice rule, if and only if $\eps T$ is sufficiently large. \HMR leads to lower variance in market shares, compared to \HM.}
\end{finding}


\footnotesize
\begin{table*}[t]
\centering
\begin{tabular}{|c|c|c|c||c|c|c|}
  \hline
  & \multicolumn{3}{c||}{Heavy-Tail (\HMR with $\eps=.1$)}
  & \multicolumn{3}{c|}{Heavy-Tail (\HM)}\\
  \hline
  & \TS vs \DG & \TS vs \DEG  & \DG vs \DEG
 & \TS vs \DG & \TS vs \DEG  & \DG vs \DEG  \\
  \hline
$T = 2000$
 & \makecell{ \textbf{0.43} $\pm$ 0.02 \\Var: 0.15 }
  & \makecell{ \textbf{0.44} $\pm$ 0.02 \\Var: 0.15 }
  & \makecell{ \textbf{0.6} $\pm$ 0.02 \\Var: 0.1 }
  %%
 &  \makecell{ \textbf{0.29} $\pm$ 0.03 \\Var: 0.2 }
  & \makecell{ \textbf{0.28} $\pm$ 0.03 \\Var: 0.19 }
  & \makecell{ \textbf{0.63} $\pm$ 0.03 \\Var: 0.18 }
    \\
\hline
  $T= 5000$
   & \makecell{ \textbf{0.66} $\pm$ 0.01 \\Var: 0.056 }
  & \makecell{ \textbf{0.59} $\pm$ 0.02 \\Var: 0.092 }
  & \makecell{ \textbf{0.56} $\pm$ 0.02 \\Var: 0.098 }
  %%
 & \makecell{ \textbf{0.29} $\pm$ 0.03 \\Var: 0.2 }
 & \makecell{ \textbf{0.29} $\pm$ 0.03 \\Var: 0.2 }
 & \makecell{ \textbf{0.62} $\pm$ 0.03 \\Var: 0.19 }
 \\
  \hline
  $T = 10000$
  & \makecell{ \textbf{0.76} $\pm$ 0.01 \\Var: 0.026 }
 & \makecell{ \textbf{0.67} $\pm$ 0.02 \\Var: 0.067 }
 & \makecell{ \textbf{0.52} $\pm$ 0.02 \\Var: 0.11 }
 %%
  & \makecell{ \textbf{0.3} $\pm$ 0.03 \\Var: 0.21 }
  & \makecell{ \textbf{0.3} $\pm$ 0.03 \\Var: 0.2 }
  & \makecell{ \textbf{0.6} $\pm$ 0.03 \\Var: 0.2 }
  %%
  \\
   \hline
\end{tabular}
\normalsize
\caption{\HM and \HMR choice models on the Heavy-Tail MAB instance. Each cell describes the market shares in a game between two algorithms, call them Alg1 vs. Alg2, at a particular value of $t$. Line 1 in the cell is the market share of Alg 1: the average (in bold) and the 95\% confidence band.
%For example, the cell in the top left indicates that TS gets on average 64\% of the market when played against DG.
Line 2 specifies the variance of the market shares across the simulations. The results reported here are with $T_0 = 20$.}
\label{tab:non_greedy_table}
\end{table*}

\normalsize

\footnotesize
\begin{table*}[t]
\centering
\begin{tabular}{|c|c|c|c||c|c|c|}
  \hline
  & \multicolumn{3}{c||}{Uniform (\HMR  with $\eps=.1$)}
  & \multicolumn{3}{c|}{Needle-In-Haystack (\HMR  with $\eps=.1$)}\\
  \hline
  & \TS vs \DG & \TS vs \DEG  & \DG vs \DEG
 & \TS vs \DG & \TS vs \DEG  & \DG vs \DEG  \\
 \hline
$T = 2000$
 & \makecell{ \textbf{0.42} $\pm$ 0.02 \\Var: 0.13 }
 & \makecell{ \textbf{0.45} $\pm$ 0.02 \\Var: 0.13 }
 & \makecell{ \textbf{0.49} $\pm$ 0.02 \\Var: 0.093 }
  %%
  & \makecell{  \textbf{0.55} $\pm$ 0.02 \\Var: 0.15 }
  & \makecell{  \textbf{0.61} $\pm$ 0.02 \\Var: 0.13 }
  & \makecell{  \textbf{0.46} $\pm$ 0.02 \\Var: 0.12 }
    \\
\hline
  $T= 5000$
 & \makecell{ \textbf{0.48} $\pm$ 0.02 \\Var: 0.089 }
 & \makecell{ \textbf{0.53} $\pm$ 0.02 \\Var: 0.098 }
 & \makecell{ \textbf{0.46} $\pm$ 0.02 \\Var: 0.072 }
  %%
 & \makecell{  \textbf{0.56} $\pm$ 0.02 \\Var: 0.13 }
 & \makecell{  \textbf{0.63} $\pm$ 0.02 \\Var: 0.12 }
 & \makecell{  \textbf{0.43} $\pm$ 0.02 \\Var: 0.11 }
 \\
  \hline
  $T = 10000$
& \makecell{ \textbf{0.54} $\pm$ 0.01 \\Var: 0.055 }
& \makecell{  \textbf{0.6} $\pm$ 0.02 \\Var: 0.073 }
& \makecell{  \textbf{0.44} $\pm$ 0.02 \\Var: 0.064 }
 %%
  & \makecell{ \textbf{0.58} $\pm$ 0.02 \\Var: 0.083 }
  & \makecell{ \textbf{0.65} $\pm$ 0.02 \\Var: 0.096 }
  & \makecell{ \textbf{0.4} $\pm$ 0.02 \\Var: 0.1 }
  %%
  \\
   \hline
\end{tabular}
\caption{\HMR choice model for Uniform and Needle-In-Haystack MAB instances.}
%Same semantics as in Table \ref{tab:non_greedy_table}.
\label{tab:additional_results}
\end{table*}
\normalsize



Table \ref{tab:non_greedy_table} shows the average market shares under
the \HM~ vs \HMR~ choice rule. In contrast to the \HM~ model,
  \TS becomes weakly dominant under the \HMR model, as $T$ gets
  sufficiently large. These findings hold across all problem
instances, see Table \ref{tab:additional_results} (with the same semantics as in Table \ref{tab:non_greedy_table}).

\OMIT{\footnote{The results here are pulled using different \MRV
  and realizations than the results pulled previously (due to the
  larger $T$). However, they are drawn from the same prior instances
  and so qualitatively are the same but the quantitative results are
  not directly comparable to those from the previous
  section.\swcomment{not sure we need this}}}

\normalsize
\OMIT{The intuition for why \TS
should become the dominant strategy eventually is simple. The
consistent stream of random agents ensures that each principal is
chosen at least $\Omega(\eps t)$ times at every time step $t$. As
a result, each algorithm should eventually converge to its asymptotic
performance in isolation.}


\OMIT{Finding \ref{find:non_greedy_choice} implies that we can re-interpret the inverted-U findings from before in terms of the number of agents that a firm receives without having to worry about incentives. In the extreme when the firm gets all agents for free as in the monopoly case then it is incentivized to play \DG. When it only gets some of the agents for free, either via a large warm start, a temporary monopoly, or non-deterministic choice, then \TS is incentivized. However, if the number of free agents gets small enough then \DG is incentivized as in the permanent duopoly analysis from before.\swcomment{I don't understand this paragraph; I think it's too vague. Perhaps remove?}}

However, it takes a significant amount of randomness and a relatively large time horizon for this effect to take place. Even with $T = 10000$ and $\eps = 0.1$ we see that \DEG still outperforms \DG on the Heavy-Tail MAB instance as well as that \TS only starts to become weakly dominant at $T = 10000$ for the Uniform MAB instance.

\OMIT{Table \ref{tab:non_greedy_table} also shows that another difference between the two choice rules is that \HMR leads to lower variance in market shares across simulations compared to \HM.}


\end{document}
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../competing_bandits"
%%% End: 